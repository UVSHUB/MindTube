# Server Configuration
server.port=8080
spring.application.name=PilotAI Backend

# ===================================================================
# Database Configuration (PostgreSQL / Supabase)
# ===================================================================
# Uncomment and fill these in once you have your Supabase credentials

# ===================================================================
# Supabase Connection Pooler (IPv4 compatible)
# ===================================================================
# IMPORTANT: Get the exact pooler connection string from Supabase Dashboard:
# 1. Go to Project Settings → Database → Connection Pooling
# 2. Click "Pooler settings" button
# 3. Copy the connection string for "Session Mode" or "Transaction Mode"
# 4. Convert to JDBC format and update below

# Transaction Mode Pooler (IPv4 compatible - recommended)
# Host: aws-1-ap-south-1.pooler.supabase.com
# Port: 6543
# User: postgres.hcsnpladwtrwswbfhcrz
spring.datasource.url=jdbc:postgresql://aws-1-ap-south-1.pooler.supabase.com:6543/postgres?sslmode=require
spring.datasource.username=postgres.hcsnpladwtrwswbfhcrz
spring.datasource.password=NutzyCraft@123

# Alternative: Session Mode Pooler (if Transaction mode doesn't work)
# spring.datasource.url=jdbc:postgresql://aws-1-ap-south-1.pooler.supabase.com:5432/postgres?sslmode=require
# spring.datasource.username=postgres.hcsnpladwtrwswbfhcrz
# spring.datasource.password=NutzyCraft@123

# Direct connection (IPv6 only - won't work on Windows without IPv4 add-on)
# spring.datasource.url=jdbc:postgresql://db.hcsnpladwtrwswbfhcrz.supabase.co:5432/postgres?sslmode=require
# spring.datasource.username=postgres
# spring.datasource.password=NutzyCraft@123
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=5

# Supabase Production (uncomment when Supabase is accessible)
# spring.datasource.url=jdbc:postgresql://db.hcsnpladwtrwswbfhcrz.supabase.co:5432/postgres?sslmode=require
# spring.datasource.username=postgres
# spring.datasource.password=NutzyCraft@123

# ===================================================================
# JPA / Hibernate Settings
# ===================================================================
# DDL mode: 'update' - will add missing columns (email, password, etc.) to existing tables
# After first run, you can change back to 'validate' for production
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ===================================================================
# Email Settings (Gmail)
# ===================================================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=nutzycraft@gmail.com
spring.mail.password=rcbtlspybddoaaee
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
